#!/bin/bash

# Shortcuts to 'sparkybackup' command
# Copyright 2017-2018 under the GNU GPL2 License by pavroo <pavroo@onet.eu>
# Last update 2018/03/05 by pavroo

TESTROOT="`whoami`"
if [ "$TESTROOT" != "root" ]
then
	echo "Must be root...Exiting now..."
	exit 1
fi

TESTAPITUDE="`which aptitude`"

if [ "$1" = "clean" ]
then
	/usr/bin/sparkybackup clean

elif [ "$1" = "edit" ]
then
	nano /etc/sparkybackup/sparkybackup.conf

elif [ "$1" = "dist" ]
then
	/usr/bin/sparkybackup dist

elif [ "$1" = "cache" ]
then
	apt-get autoremove
	apt-get clean

	if [ "$TESTAPTITUDE" != "" ]
	then
		aptitude purge ~c
	fi

else
	echo "spb is a shorter command to sparkybackup"
	echo "Usage of spb is as follows:"
	echo ""
	echo "sudo spb dist|edit|clean|cache"
	echo ""
	echo "Examples:"
	echo ""
	echo "    sudo spb dist"
	echo "which makes a distributable livecd/dvd of your system"
	echo ""
	echo "    sudo spb edit"
	echo "which edits the tool's configuration file"
	echo ""
	echo "    sudo spb clean"
	echo "which cleans up files of sparkybackup working directory"
	echo ""
	echo "    sudo spb cache"
	echo "which cleans up apt cache"
fi

exit 0
